<?xml version="1.0" encoding="utf-8"?>

<!-- *******************************************************************
Copyright Adam Edwards
All Rights Reserved.
******************************************************************** -->

<Configuration>

  <ViewDefinitions>

    <View>
      <Name>ReplChatHistory</Name>
      <ViewSelectedBy>
        <TypeName>Modulus.ChatGPS.PowerShell.ChatHistory</TypeName>
      </ViewSelectedBy>

      <TableControl>
        <TableHeaders>
          <TableColumnHeader>
            <Width>24</Width>
            <Label>Received</Label>
          </TableColumnHeader>
          <TableColumnHeader>
            <Width>12</Width>
            <Label>Role</Label>
          </TableColumnHeader>
          <TableColumnHeader>
            <Width>1024</Width>
            <Label>Message</Label>
          </TableColumnHeader>
        </TableHeaders>
        <TableRowEntries>
          <TableRowEntry>
            <Wrap/>
            <TableColumnItems>
              <TableColumnItem>
                 <PropertyName>Received</PropertyName>
              </TableColumnItem>
              <TableColumnItem>
                 <PropertyName>Role</PropertyName>
              </TableColumnItem>
              <TableColumnItem>
                 <PropertyName>Response</PropertyName>
              </TableColumnItem>
            </TableColumnItems>
          </TableRowEntry>
        </TableRowEntries>
      </TableControl>
    </View>

    <View>
      <Name>ChatHistoryItem</Name>
      <ViewSelectedBy>
        <TypeName>Modulus.ChatGPS.Models.ChatMessage</TypeName>
      </ViewSelectedBy>

      <TableControl>
        <TableHeaders>
          <TableColumnHeader>
            <Width>24</Width>
            <Label>Received</Label>
          </TableColumnHeader>
          <TableColumnHeader>
            <Width>10</Width>
            <Label>Role</Label>
          </TableColumnHeader>
          <TableColumnHeader>
            <Width>12</Width>
            <Label>Elapsed (ms)</Label>
          </TableColumnHeader>
          <TableColumnHeader>
            <Width>1024</Width>
            <Label>Response</Label>
          </TableColumnHeader>
        </TableHeaders>
        <TableRowEntries>
          <TableRowEntry>
            <Wrap/>
            <TableColumnItems>
              <TableColumnItem>
                <ScriptBlock>$_.Timestamp.DateTime</ScriptBlock>
              </TableColumnItem>
              <TableColumnItem>
                 <PropertyName>Role</PropertyName>
              </TableColumnItem>
              <TableColumnItem>
                <Alignment>Right</Alignment>
                <ScriptBlock>if ( $_.Duration) {[Math]::Ceiling($_.Duration.TotalMilliseconds)}</ScriptBlock>
              </TableColumnItem>
              <TableColumnItem>
                 <PropertyName>Content</PropertyName>
              </TableColumnItem>
            </TableColumnItems>
          </TableRowEntry>
        </TableRowEntries>
      </TableControl>
    </View>

    <View>
      <Name>ChatMessageDetail</Name>
      <ViewSelectedBy>
        <TypeName>Modulus.ChatGPS.Models.ChatMessage</TypeName>
      </ViewSelectedBy>
      <ListControl>
        <ListEntries>
          <ListEntry>
            <ListItems>
              <ListItem>
                <Label>Received</Label>
                <PropertyName>Timestamp</PropertyName>
              </ListItem>
              <ListItem>
                <PropertyName>Role</PropertyName>
              </ListItem>
              <ListItem>
                <Label>Message</Label>
                <PropertyName>Content</PropertyName>
              </ListItem>
              <ListItem>
                <ItemSelectionCondition>
                  <ScriptBlock>$_.Duration</ScriptBlock>
                </ItemSelectionCondition>
                <Label>Elapsed</Label>
                <PropertyName>Duration</PropertyName>
              </ListItem>
            </ListItems>
          </ListEntry>
        </ListEntries>
      </ListControl>
    </View>

    <View>
      <Name>ChatSessionDetails</Name>
      <ViewSelectedBy>
        <TypeName>Modulus.ChatGPS.Models.ChatSession</TypeName>
      </ViewSelectedBy>
      <ListControl>
        <ListEntries>
          <ListEntry>
            <ListItems>
              <ListItem>
                <Label>Id</Label>
                <PropertyName>Id</PropertyName>
              </ListItem>
              <ListItem>
                <Label>Provider</Label>
                <ScriptBlock>$_.AiOptions.Provider</ScriptBlock>
              </ListItem>
              <ListItem>
                <Label>API Endpoint</Label>
                <ItemSelectionCondition>
                  <ScriptBlock>$_.AiOptions.ApiEndpoint</ScriptBlock>
                </ItemSelectionCondition>
                <ScriptBlock>$_.AiOptions.ApiEndpoint</ScriptBlock>
              </ListItem>
              <ListItem>
                <Label>Local Model Path</Label>
                <ItemSelectionCondition>
                  <ScriptBlock>$_.AiOptions.LocalModelPath</ScriptBlock>
                </ItemSelectionCondition>
                <ScriptBlock>$_.AiOptions.LocalModelPath</ScriptBlock>
              </ListItem>
              <ListItem>
                <Label>Token Limit</Label>
                <ScriptBlock>$_.AiOptions.TokenLimit</ScriptBlock>
              </ListItem>
              <ListItem>
                <Label>Model Identifier</Label>
                <ScriptBlock>$_.AiOptions.ModelIdentifier</ScriptBlock>
              </ListItem>
              <ListItem>
                <Label>Total Message Count</Label>
                <ScriptBlock>if ( $_.History) {$_.History.Count}</ScriptBlock>
              </ListItem>
              <ListItem>
                <Label>Current Message Count</Label>
                <ScriptBlock>if ( $_.History) {$_.CurrentHistory.Count}</ScriptBlock>
              </ListItem>
            </ListItems>
          </ListEntry>
        </ListEntries>
      </ListControl>
    </View>

    <View>
      <Name>ChatResponse</Name>
      <ViewSelectedBy>
        <TypeName>Modulus.ChatGPS.PowerShell.ChatResponse</TypeName>
      </ViewSelectedBy>

      <TableControl>
        <TableHeaders>
          <TableColumnHeader>
            <Width>24</Width>
            <Label>Received</Label>
          </TableColumnHeader>
          <TableColumnHeader>
            <Width>1024</Width>
            <Label>Response</Label>
          </TableColumnHeader>
        </TableHeaders>
        <TableRowEntries>
          <TableRowEntry>
            <Wrap/>
            <TableColumnItems>
              <TableColumnItem>
                 <PropertyName>Received</PropertyName>
              </TableColumnItem>
              <TableColumnItem>
                 <PropertyName>Response</PropertyName>
              </TableColumnItem>
            </TableColumnItems>
          </TableRowEntry>
        </TableRowEntries>
      </TableControl>
    </View>

    <View>
      <Name>Voice</Name>
      <ViewSelectedBy>
        <TypeName>Modulus.ChatGPS.PowerShell.ChatVoice</TypeName>
      </ViewSelectedBy>

      <TableControl>
        <TableHeaders>
          <TableColumnHeader>
            <Label>VoiceName</Label>
          </TableColumnHeader>
          <TableColumnHeader>
            <Label>Synchronous</Label>
          </TableColumnHeader>
        </TableHeaders>
        <TableRowEntries>
          <TableRowEntry>
            <TableColumnItems>
              <TableColumnItem>
                <PropertyName>VoiceName</PropertyName>
              </TableColumnItem>
              <TableColumnItem>
                <PropertyName>Synchronous</PropertyName>
              </TableColumnItem>
            </TableColumnItems>
          </TableRowEntry>
        </TableRowEntries>
      </TableControl>
    </View>

  </ViewDefinitions>
</Configuration>
